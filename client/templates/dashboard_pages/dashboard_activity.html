<template name="recentActivityColumn">
	<div class="col w-xxl bg-white-only b-l bg-auto no-border-xs">
		<div class="wrapper-md activity-column">
			<div class="m-b text-md">Recent Activity</div>
			<ul class="list-group no-bg no-borders pull-in">
			{{#if Template.subscriptionsReady}}
				{{#each gamesList}}
					{{> recentActivityLine}}
				{{/each}}
			{{else}}
				{{#each gamesList}}
					{{> recentActivityLoading}}
				{{/each}}
			{{/if}}
			</ul>
		</div>
	</div>
</template>

<template name="recentActivityLine">
	{{#with xbdGame}}
	<li class="list-group-item activity-line">
		<a class="" href="{{pathFor 'game' slug=game.slug}}" style="display: block;">
		<a href="{{pathFor 'game' slug=game.slug}}" class="thumb-sm m-r games-thumb">
			<img src="{{gamesListImage}}" class="game-image" />
		</a>
		<div class="game-div title-wrap-game2">
			<a class="game-name text-ellipsis" href="{{pathFor 'game' slug=game.slug}}">{{game.name}}</a>
		</div>
		<div class="pull-right bg-black inline m-t-mdx c100 p{{percentageComplete}} small">
			<span>{{percentageComplete}}%</span>
			<div class="slice">
				<div class="bar"></div>
				<div class="fill"></div>
			</div>
		</div>
		<div class="progress progress-md text-center">
			<div class="progress-bar progress-bar-success" style="width: {{percentageComplete}}%">
				{{../earnedAchievements}} done 
			</div>
			{{remainingAchievements}} left
		</div>
		</a>
	</li>
	{{/with}}
</template>

<template name="recentActivityLoading">
	<li class="list-group-item activity-line">
		<a href="#" class="thumb-sm m-r games-thumb">
			<img src="/img/game-default.jpg" class="game-image" />
		</a>
		<div class="game-div title-wrap-game2">
			<a class="game-name" href="#">Your Game</a>
		</div>
		<div class="pull-right bg-black inline m-t-mdx c100 p0 small">
			<span>0%</span>
			<div class="slice">
				<div class="bar"></div>
				<div class="fill"></div>
			</div>
		</div>
		<div class="progress progress-md text-center">
			<div class="progress-bar progress-bar-success" style="width: 100%">
				0 done 
			</div>
			100 left
		</div>
	</li>
</template>